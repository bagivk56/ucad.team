<template>
 <div class="iaop-message-content">
   <div
     ref="refMessageContent"
     v-html="[message,message,message,message,message].join(' ')"
     class="cms-block-stub hidden-scroll-bar"
   />

   <div ref="refScroll" class="iaop-message-content__scroll">
     <svg width="58" height="427" viewBox="0 0 58 427" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path d="M16.2821 7.21013C14.9916 6.37048 13.2761 7.24271 13.1942 8.78013L12.4809 22.1677C12.399 23.7051 14.0121 24.7547 15.3845 24.0569L27.3352 17.9808C28.7076 17.283 28.8099 15.3613 27.5195 14.5216L16.2821 7.21013Z" fill="url(#paint0_linear_386_110)"/>
       <path d="M13.3953 419.608C12.1049 420.448 10.3894 419.576 10.3075 418.038L9.59422 404.651C9.51231 403.113 11.1254 402.064 12.4978 402.761L24.4484 408.838C25.8208 409.535 25.9232 411.457 24.6327 412.297L13.3953 419.608Z" fill="url(#paint1_linear_386_110)"/>
       <path d="M26.1916 26.5925C25.9665 26.2447 25.5022 26.1453 25.1545 26.3704C24.8067 26.5955 24.7073 27.0598 24.9324 27.4075L26.1916 26.5925ZM28.686 32.3089L29.3668 31.9941L29.3571 31.9732L29.3461 31.9528L28.686 32.3089ZM31.81 39.5483L31.1148 39.8295L31.118 39.8375L31.1214 39.8454L31.81 39.5483ZM35.4547 48.2355L36.1605 47.9817L36.1555 47.9679L36.15 47.9542L35.4547 48.2355ZM36.4961 51.1313L37.2244 50.9523L37.2151 50.9143L37.2018 50.8775L36.4961 51.1313ZM39.5787 60.4155L40.2962 60.1968L40.2918 60.1827L40.287 60.1687L39.5787 60.4155ZM40.7402 64.2257L41.4576 64.007L41.4576 64.007L40.7402 64.2257ZM41.9016 68.0359L42.6302 67.8582L42.6252 67.8375L42.619 67.8172L41.9016 68.0359ZM44.2244 77.5614L43.4958 77.7391L43.4958 77.7391L44.2244 77.5614ZM45.3858 82.3241L46.1208 82.1748L46.1179 82.1605L46.1145 82.1464L45.3858 82.3241ZM46.5472 88.0394L47.2822 87.8901L47.2822 87.8901L46.5472 88.0394ZM47.7087 93.7547L48.4501 93.6417L48.4473 93.6235L48.4436 93.6054L47.7087 93.7547ZM48.8701 101.375L49.6115 101.262L49.6115 101.262L48.8701 101.375ZM50.0315 108.996L50.7739 108.889L50.7729 108.883L50.0315 108.996ZM51.1929 117.092L51.9374 117.001L51.9364 116.994L51.9353 116.986L51.1929 117.092ZM52.3543 126.618L53.1011 126.548L53.1001 126.537L53.0988 126.527L52.3543 126.618ZM52.935 132.809L52.1883 132.879L52.1892 132.888L52.935 132.809ZM54.0965 143.764L54.8438 143.699L54.8423 143.685L54.0965 143.764ZM54.6772 150.431L55.4253 150.378L55.4243 150.366L54.6772 150.431ZM55.2579 158.528L56.0065 158.482L56.006 158.474L55.2579 158.528ZM55.8386 168.054L56.5877 168.017L56.5872 168.008L55.8386 168.054ZM56.4193 179.961L57.169 179.936L57.1684 179.924L56.4193 179.961ZM57 197.583H57.75V197.57L57.7496 197.558L57 197.583ZM57 229.969L57.7492 230.005L57.75 229.987V229.969H57ZM56.4193 242.353L55.6701 242.317L55.6698 242.324L56.4193 242.353ZM55.8386 257.593L56.587 257.641L56.5877 257.632L56.588 257.622L55.8386 257.593ZM54.6772 275.692L55.4248 275.753L55.4256 275.74L54.6772 275.692ZM53.5157 289.98L54.2619 290.056L54.2627 290.048L54.2633 290.041L53.5157 289.98ZM52.3543 301.411L53.0988 301.501L53.0997 301.494L53.1005 301.486L52.3543 301.411ZM51.1929 310.936L51.9357 311.041L51.9374 311.027L51.1929 310.936ZM49.4508 323.319L50.1923 323.432L50.1935 323.424L49.4508 323.319ZM48.8701 327.13L49.609 327.258L49.6103 327.25L49.6115 327.243L48.8701 327.13ZM47.7087 333.797L48.4436 333.947L48.4457 333.936L48.4475 333.926L47.7087 333.797ZM46.5472 339.513L47.2822 339.662L47.2822 339.662L46.5472 339.513ZM44.2244 350.943L44.9483 351.139L44.9546 351.116L44.9594 351.093L44.2244 350.943ZM43.063 355.23L43.785 355.433L43.7869 355.426L43.063 355.23ZM41.3209 361.421L42.0383 361.64L42.0406 361.632L42.0428 361.624L41.3209 361.421ZM39.5787 367.137L40.2904 367.373L40.2934 367.364L40.2962 367.355L39.5787 367.137ZM27.124 29.4131L27.7841 29.0571L27.7699 29.0307L27.7536 29.0056L27.124 29.4131ZM33.8927 44.3745L34.588 44.0932L34.5847 44.0853L34.5813 44.0774L33.8927 44.3745ZM30.248 35.6873L30.9433 35.406L30.9364 35.3891L30.9288 35.3725L30.248 35.6873ZM33.372 384.625L32.6913 384.311L32.681 384.333L32.6722 384.356L33.372 384.625ZM26.8763 397.488L26.2439 397.085L26.8763 397.488ZM37.8366 372.376L37.1249 372.139L37.1153 372.168L37.108 372.198L37.8366 372.376ZM34.1231 383.001L33.4424 382.686L34.1231 383.001ZM36.5199 51.2283L35.7916 51.4073L36.5199 51.2283ZM38.4173 57.0815L39.1256 56.8348L39.1193 56.8168L39.1121 56.7992L38.4173 57.0815ZM34.749 48.4893L35.7903 51.3851L37.2018 50.8775L36.1605 47.9817L34.749 48.4893ZM35.7677 51.3102L35.7916 51.4073L37.2482 51.0494L37.2244 50.9523L35.7677 51.3102ZM37.7091 57.3283L38.8705 60.6622L40.287 60.1687L39.1256 56.8348L37.7091 57.3283ZM38.8613 60.6341L40.0227 64.4443L41.4576 64.007L40.2962 60.1968L38.8613 60.6341ZM40.0227 64.4443L41.1842 68.2545L42.619 67.8172L41.4576 64.007L40.0227 64.4443ZM41.1729 68.2135L42.3343 72.9763L43.7916 72.6209L42.6302 67.8582L41.1729 68.2135ZM42.3343 72.9763L43.4958 77.7391L44.9531 77.3837L43.7916 72.6209L42.3343 72.9763ZM43.4958 77.7391L44.6572 82.5018L46.1145 82.1464L44.9531 77.3837L43.4958 77.7391ZM44.6508 82.4735L45.8123 88.1888L47.2822 87.8901L46.1208 82.1748L44.6508 82.4735ZM45.8123 88.1888L46.9737 93.9041L48.4436 93.6054L47.2822 87.8901L45.8123 88.1888ZM46.9672 93.8677L48.1286 101.488L49.6115 101.262L48.4501 93.6417L46.9672 93.8677ZM48.1286 101.488L49.2901 109.109L50.7729 108.883L49.6115 101.262L48.1286 101.488ZM49.2891 109.102L50.4505 117.199L51.9353 116.986L50.7739 108.889L49.2891 109.102ZM50.4484 117.183L51.6098 126.708L53.0988 126.527L51.9374 117.001L50.4484 117.183ZM51.6076 126.688L52.1883 132.879L53.6818 132.739L53.1011 126.548L51.6076 126.688ZM52.1892 132.888L53.3506 143.843L54.8423 143.685L53.6809 132.73L52.1892 132.888ZM53.3493 143.829L53.93 150.497L55.4243 150.366L54.8436 143.699L53.3493 143.829ZM53.9291 150.485L54.5098 158.582L56.006 158.474L55.4252 150.378L53.9291 150.485ZM54.5093 158.574L55.09 168.099L56.5872 168.008L56.0065 158.483L54.5093 158.574ZM55.0895 168.09L55.6702 179.997L57.1684 179.924L56.5877 168.017L55.0895 168.09ZM55.6697 179.985L56.2504 197.607L57.7496 197.558L57.1689 179.936L55.6697 179.985ZM56.25 197.583V204.332H57.75V197.583H56.25ZM56.25 204.332V211.871H57.75V204.332H56.25ZM56.25 211.871V219.45H57.75V211.871H56.25ZM56.25 219.45V224.254H57.75V219.45H56.25ZM56.25 224.254V229.969H57.75V224.254H56.25ZM56.2508 229.934L55.6701 242.317L57.1685 242.388L57.7492 230.005L56.2508 229.934ZM55.6698 242.324L55.0891 257.565L56.588 257.622L57.1687 242.381L55.6698 242.324ZM55.0901 257.545L53.9287 275.644L55.4256 275.74L56.587 257.641L55.0901 257.545ZM53.9296 275.631L52.7682 289.919L54.2633 290.041L55.4247 275.753L53.9296 275.631ZM52.7696 289.904L51.6082 301.335L53.1005 301.486L54.2619 290.056L52.7696 289.904ZM51.6098 301.32L50.4484 310.845L51.9374 311.027L53.0988 301.501L51.6098 301.32ZM50.4502 310.832L48.7081 323.215L50.1935 323.424L51.9356 311.041L50.4502 310.832ZM48.7093 323.206L48.1286 327.017L49.6115 327.243L50.1922 323.432L48.7093 323.206ZM48.1312 327.001L46.9698 333.669L48.4475 333.926L49.609 327.258L48.1312 327.001ZM46.9737 333.648L45.8123 339.363L47.2822 339.662L48.4436 333.947L46.9737 333.648ZM45.8123 339.363L44.6508 345.079L46.1208 345.377L47.2822 339.662L45.8123 339.363ZM44.6508 345.079L43.4894 350.794L44.9594 351.093L46.1208 345.377L44.6508 345.079ZM43.5005 350.747L42.3391 355.034L43.7869 355.426L44.9483 351.139L43.5005 350.747ZM42.341 355.027L40.5989 361.218L42.0428 361.624L43.785 355.433L42.341 355.027ZM40.6035 361.203L38.8613 366.918L40.2962 367.355L42.0383 361.64L40.6035 361.203ZM38.8671 366.9L37.1249 372.139L38.5483 372.612L40.2904 367.373L38.8671 366.9ZM33.4424 382.686L32.6913 384.311L34.0528 384.94L34.8039 383.316L33.4424 382.686ZM26.2439 397.085L23.3676 401.597L24.6324 402.403L27.5088 397.891L26.2439 397.085ZM24.9324 27.4075L26.4944 29.8207L27.7536 29.0056L26.1916 26.5925L24.9324 27.4075ZM26.4639 29.7692L28.0259 32.6649L29.3461 31.9528L27.7841 29.0571L26.4639 29.7692ZM31.1214 39.8454L33.2041 44.6717L34.5813 44.0774L32.4987 39.2511L31.1214 39.8454ZM33.1975 44.6558L34.7595 48.5168L36.15 47.9542L34.588 44.0932L33.1975 44.6558ZM28.0053 32.6236L29.5673 36.002L30.9288 35.3725L29.3668 31.9941L28.0053 32.6236ZM29.5528 35.9685L31.1148 39.8295L32.5053 39.267L30.9433 35.406L29.5528 35.9685ZM32.6722 384.356C30.9589 388.802 28.8055 393.067 26.2439 397.085L27.5088 397.891C30.1241 393.789 32.3227 389.435 34.0719 384.895L32.6722 384.356ZM37.108 372.198C36.2279 375.804 35.0003 379.317 33.4424 382.686L34.8039 383.316C36.4025 379.858 37.6621 376.254 38.5652 372.553L37.108 372.198ZM35.7916 51.4073C36.2902 53.4369 36.9356 55.4277 37.7225 57.3639L39.1121 56.7992C38.3525 54.9302 37.7296 53.0085 37.2482 51.0494L35.7916 51.4073Z" fill="url(#paint2_linear_386_110)"/>
       <path d="M23.148 28.5982C22.9261 28.2484 22.4626 28.1448 22.1129 28.3667C21.7631 28.5886 21.6595 29.052 21.8814 29.4018L23.148 28.5982ZM25.544 34.2523L26.2271 33.9427L26.2177 33.9219L26.2071 33.9017L25.544 34.2523ZM28.5734 41.4144L27.8762 41.6909L27.8793 41.6988L27.8826 41.7066L28.5734 41.4144ZM32.1076 50.009L32.815 49.7597L32.8101 49.746L32.8048 49.7326L32.1076 50.009ZM33.1174 52.8739L33.8465 52.6983L33.8375 52.6609L33.8247 52.6246L33.1174 52.8739ZM36.1067 62.059L36.8253 61.8443L36.8211 61.8304L36.8164 61.8167L36.1067 62.059ZM37.2329 65.8286L37.9515 65.6139L37.9515 65.6139L37.2329 65.8286ZM38.3591 69.5982L39.0886 69.4238L39.0837 69.4035L39.0777 69.3835L38.3591 69.5982ZM40.6116 79.0221L39.8821 79.1964L39.8821 79.1964L40.6116 79.0221ZM41.7378 83.734L42.4733 83.5875L42.4705 83.5735L42.4672 83.5596L41.7378 83.734ZM42.864 89.3883L43.5995 89.2418L43.5995 89.2418L42.864 89.3883ZM43.9902 95.0427L44.732 94.9319L44.7293 94.9139L44.7258 94.8962L43.9902 95.0427ZM45.1164 102.582L45.8582 102.471L45.8582 102.471L45.1164 102.582ZM46.2427 110.121L46.9854 110.016L46.9844 110.01L46.2427 110.121ZM47.3689 118.131L48.1136 118.042L48.1127 118.035L48.1116 118.027L47.3689 118.131ZM48.4951 127.555L49.242 127.486L49.241 127.476L49.2398 127.466L48.4951 127.555ZM49.0582 133.681L48.3113 133.749L48.3122 133.758L49.0582 133.681ZM50.1844 144.518L50.9319 144.454L50.9304 144.441L50.1844 144.518ZM50.7476 151.115L51.4958 151.062L51.4948 151.051L50.7476 151.115ZM51.3107 159.125L52.0594 159.08L52.0588 159.073L51.3107 159.125ZM51.8738 168.549L52.623 168.513L52.6224 168.504L51.8738 168.549ZM52.4369 180.329L53.1866 180.305L53.186 180.293L52.4369 180.329ZM53 197.763H53.75V197.751L53.7496 197.739L53 197.763ZM53 229.804L53.7492 229.839L53.75 229.822V229.804H53ZM52.4369 242.055L51.6877 242.021L51.6874 242.027L52.4369 242.055ZM51.8738 257.134L52.6223 257.181L52.6229 257.171L52.6233 257.162L51.8738 257.134ZM50.7476 275.039L51.4953 275.099L51.4961 275.086L50.7476 275.039ZM49.6213 289.175L50.3676 289.249L50.3684 289.242L50.369 289.235L49.6213 289.175ZM48.4951 300.484L49.2398 300.573L49.2407 300.565L49.2414 300.558L48.4951 300.484ZM47.3689 309.908L48.112 310.01L48.1136 309.997L47.3689 309.908ZM45.6796 322.159L46.4214 322.269L46.4225 322.261L45.6796 322.159ZM45.1164 325.928L45.8557 326.054L45.8571 326.047L45.8582 326.039L45.1164 325.928ZM43.9902 332.525L44.7258 332.671L44.7278 332.661L44.7295 332.651L43.9902 332.525ZM42.864 338.179L43.5995 338.326L43.5995 338.326L42.864 338.179ZM40.6116 349.488L41.3364 349.68L41.3425 349.658L41.3471 349.634L40.6116 349.488ZM39.4853 353.729L40.2084 353.928L40.2102 353.921L39.4853 353.729ZM37.796 359.854L38.5146 360.069L38.5169 360.061L38.519 360.054L37.796 359.854ZM36.1067 365.509L36.8197 365.741L36.8226 365.732L36.8253 365.723L36.1067 365.509ZM24.0293 31.3874L24.6924 31.0368L24.6785 31.0106L24.6626 30.9856L24.0293 31.3874ZM30.5929 46.1892L31.2901 45.9127L31.287 45.9048L31.2837 45.897L30.5929 46.1892ZM27.0587 37.5946L27.7559 37.3181L27.7492 37.3014L27.7418 37.285L27.0587 37.5946ZM30.088 382.811L29.4049 382.501L29.3949 382.523L29.3864 382.546L30.088 382.811ZM23.7772 395.555L24.4133 395.953L23.7772 395.555ZM34.4173 370.692L33.7042 370.459L33.6949 370.488L33.6879 370.517L34.4173 370.692ZM30.8109 381.216L30.1278 380.906L30.8109 381.216ZM34.9804 58.7607L35.6902 58.5183L35.6841 58.5006L35.6772 58.4831L34.9804 58.7607ZM31.4003 50.2583L32.41 53.1232L33.8247 52.6246L32.815 49.7597L31.4003 50.2583ZM32.3882 53.0495L32.4126 53.1504L33.8709 52.7993L33.8465 52.6983L32.3882 53.0495ZM34.2707 59.003L35.3969 62.3014L36.8164 61.8167L35.6902 58.5183L34.2707 59.003ZM35.388 62.2737L36.5143 66.0433L37.9515 65.6139L36.8253 61.8443L35.388 62.2737ZM36.5143 66.0433L37.6405 69.8128L39.0777 69.3835L37.9515 65.6139L36.5143 66.0433ZM37.6297 69.7725L38.7559 74.4845L40.2148 74.1358L39.0886 69.4238L37.6297 69.7725ZM38.7559 74.4845L39.8821 79.1964L41.341 78.8477L40.2148 74.1358L38.7559 74.4845ZM39.8821 79.1964L41.0083 83.9083L42.4672 83.5596L41.341 78.8477L39.8821 79.1964ZM41.0022 83.8805L42.1284 89.5348L43.5995 89.2418L42.4733 83.5875L41.0022 83.8805ZM42.1284 89.5348L43.2547 95.1892L44.7258 94.8962L43.5995 89.2418L42.1284 89.5348ZM43.2484 95.1535L44.3747 102.693L45.8582 102.471L44.732 94.9319L43.2484 95.1535ZM44.3747 102.693L45.5009 110.232L46.9844 110.01L45.8582 102.471L44.3747 102.693ZM45.5 110.225L46.6262 118.236L48.1116 118.027L46.9854 110.016L45.5 110.225ZM46.6242 118.22L47.7504 127.644L49.2398 127.466L48.1136 118.042L46.6242 118.22ZM47.7483 127.624L48.3114 133.749L49.8051 133.612L49.242 127.486L47.7483 127.624ZM48.3122 133.758L49.4385 144.596L50.9304 144.441L49.8042 133.603L48.3122 133.758ZM49.4372 144.582L50.0003 151.179L51.4948 151.051L50.9317 144.454L49.4372 144.582ZM49.9994 151.167L50.5625 159.178L52.0588 159.073L51.4957 151.062L49.9994 151.167ZM50.562 159.17L51.1251 168.594L52.6224 168.504L52.0593 159.08L50.562 159.17ZM51.1246 168.585L51.6877 180.365L53.186 180.293L52.6229 168.513L51.1246 168.585ZM51.6873 180.353L52.2504 197.787L53.7496 197.739L53.1865 180.305L51.6873 180.353ZM52.25 197.763V204.44H53.75V197.763H52.25ZM52.25 204.44V211.899H53.75V204.44H52.25ZM52.25 211.899V219.398H53.75V211.899H52.25ZM52.25 219.398V224.15H53.75V219.398H52.25ZM52.25 224.15V229.804H53.75V224.15H52.25ZM52.2508 229.77L51.6877 242.021L53.1861 242.09L53.7492 229.839L52.2508 229.77ZM51.6874 242.027L51.1243 257.106L52.6233 257.162L53.1864 242.083L51.6874 242.027ZM51.1253 257.087L49.999 274.992L51.4961 275.086L52.6223 257.181L51.1253 257.087ZM49.9999 274.98L48.8737 289.115L50.369 289.235L51.4952 275.099L49.9999 274.98ZM48.875 289.101L47.7488 300.409L49.2414 300.558L50.3676 289.249L48.875 289.101ZM47.7504 300.395L46.6242 309.819L48.1136 309.997L49.2398 300.573L47.7504 300.395ZM46.6259 309.805L44.9366 322.056L46.4225 322.261L48.1119 310.01L46.6259 309.805ZM44.9378 322.048L44.3747 325.817L45.8582 326.039L46.4213 322.269L44.9378 322.048ZM44.3771 325.802L43.2509 332.399L44.7295 332.651L45.8557 326.054L44.3771 325.802ZM43.2547 332.378L42.1284 338.033L43.5995 338.326L44.7258 332.671L43.2547 332.378ZM42.1284 338.033L41.0022 343.687L42.4733 343.98L43.5995 338.326L42.1284 338.033ZM41.0022 343.687L39.876 349.341L41.3471 349.634L42.4733 343.98L41.0022 343.687ZM39.8867 349.295L38.7605 353.536L40.2102 353.921L41.3364 349.68L39.8867 349.295ZM38.7623 353.529L37.073 359.655L38.519 360.054L40.2083 353.928L38.7623 353.529ZM37.0774 359.639L35.388 365.294L36.8253 365.723L38.5146 360.069L37.0774 359.639ZM35.3936 365.276L33.7042 370.459L35.1304 370.924L36.8197 365.741L35.3936 365.276ZM30.1278 380.906L29.4049 382.501L30.7712 383.12L31.4941 381.525L30.1278 380.906ZM23.1412 395.158L20.364 399.603L21.636 400.397L24.4133 395.953L23.1412 395.158ZM21.8814 29.4018L23.3961 31.7892L24.6626 30.9856L23.148 28.5982L21.8814 29.4018ZM23.3663 31.7379L24.881 34.6028L26.2071 33.9017L24.6924 31.0368L23.3663 31.7379ZM27.8826 41.7066L29.9022 46.4814L31.2837 45.897L29.2641 41.1223L27.8826 41.7066ZM29.8957 46.4656L31.4104 50.2855L32.8048 49.7326L31.2901 45.9127L29.8957 46.4656ZM24.8609 34.5618L26.3756 37.9042L27.7418 37.285L26.2271 33.9427L24.8609 34.5618ZM26.3615 37.8711L27.8762 41.6909L29.2706 41.138L27.7559 37.3181L26.3615 37.8711ZM29.3864 382.546C27.725 386.945 25.6331 391.17 23.1412 395.158L24.4133 395.953C26.9575 391.881 29.0934 387.568 30.7897 383.076L29.3864 382.546ZM33.6879 370.517C32.8343 374.086 31.6422 377.564 30.1278 380.906L31.4941 381.525C33.0479 378.096 34.271 374.527 35.1467 370.866L33.6879 370.517ZM32.4126 53.1504C32.8953 55.1551 33.5206 57.1227 34.2837 59.0382L35.6772 58.4831C34.9405 56.6339 34.3369 54.7345 33.8709 52.7993L32.4126 53.1504Z" fill="url(#paint3_linear_386_110)"/>
       <defs>
         <linearGradient id="paint0_linear_386_110" x1="29.1642" y1="10.4661" x2="8.2343" y2="21.1076" gradientUnits="userSpaceOnUse">
           <stop stop-color="#087AFF"/>
           <stop offset="0.523958" stop-color="#3FC3D5"/>
         </linearGradient>
         <linearGradient id="paint1_linear_386_110" x1="26.2775" y1="416.352" x2="5.34758" y2="405.711" gradientUnits="userSpaceOnUse">
           <stop stop-color="#087AFF"/>
           <stop offset="0.523958" stop-color="#3FC3D5"/>
         </linearGradient>
         <linearGradient id="paint2_linear_386_110" x1="40.5" y1="27" x2="40.5" y2="402" gradientUnits="userSpaceOnUse">
           <stop stop-color="#087AFF"/>
           <stop offset="0.817708" stop-color="#3FC3D5"/>
         </linearGradient>
         <linearGradient id="paint3_linear_386_110" x1="37" y1="29" x2="37" y2="400" gradientUnits="userSpaceOnUse">
           <stop stop-color="#087AFF"/>
           <stop offset="0.635417" stop-color="#3FC3D5"/>
         </linearGradient>
       </defs>
     </svg>
     <span ref="refScrollDot"></span>
   </div>
 </div>
</template>

<script>
export default {
  name: "MessageContent",

  data: function () {
    return {

    }
  },

  props: {
    message: {
      type: String,
      default: ""
    }
  },

  watch: {
    message: function () {
      if (!!this.$refs.refMessageContent) {
        setTimeout(() => {
          this.$refs.refMessageContent.scrollTo({
            top: 0,
            left: 0
          });
          this.initScroll();
        }, 100);
      }
    }
  },

  mounted: function () {
    this.initScroll();
  },

  methods: {
    initScroll: function () {
      const scrollHeight = this.$refs.refMessageContent.scrollHeight;
      if (scrollHeight > 350) {
        this.$refs.refScroll.style = '';
        this.$refs.refScrollDot.style = '';
        this.$refs.refMessageContent.addEventListener("scroll", this.callEventScrollMessage);
      } else {
        this.$refs.refScroll.style.display = 'none'
      }
    },

    callEventScrollMessage: function (event) {
      const currentScrollPosition = event.currentTarget.scrollTop || 0;
      const clientHeight = event.currentTarget.clientHeight || 0;
      const scrollHeight = event.currentTarget.scrollHeight || 0;

      let percentPositionScroll = (currentScrollPosition / (scrollHeight - clientHeight)) * 100;
      let leftPosition = (32 / 100) * ((100 - percentPositionScroll) / 100) * (percentPositionScroll * 3.5);

      if (percentPositionScroll > 98) {
        percentPositionScroll = 98
      }

      this.$refs.refScrollDot.style.top = `${percentPositionScroll}%`;
      this.$refs.refScrollDot.style.left = `${leftPosition}px`;
    }
  }
}
</script>

<style lang="scss">
.iaop-message-content {
  position: relative;

  .cms-block-stub {
    height: 350px;
    overflow: auto;
    padding-right: 30px;
    box-sizing: border-box;
  }
}
.iaop-message-content__scroll {
  position: absolute;
  top: 0; bottom: 0; right: -20px;
  height: 100%;

  svg {
    height: calc(100% + 54px);
    margin-top: -20px;
  }
  span {
    position: absolute;
    top: 0; left: 0;
    transform: translate(20px, 4px);
    width: 16px;
    height: 16px;
    background-color: white;
    border-radius: 100%;
  }
}
</style>
