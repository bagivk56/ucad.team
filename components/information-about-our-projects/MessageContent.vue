<template>
 <div class="iaop-message-content">
   <div
     ref="refMessageContent"
     v-html="message"
     class="cms-block-stub hidden-scroll-bar"
   />

   <div ref="refScroll" class="iaop-message-content__scroll">
     <svg width="58" height="427" viewBox="0 0 58 427" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path d="M16.2573 7.21013C14.9668 6.37048 13.2513 7.2427 13.1694 8.78013L12.4562 22.1677C12.3743 23.7051 13.9874 24.7547 15.3598 24.0569L27.3104 17.9808C28.6828 17.283 28.7852 15.3613 27.4947 14.5216L16.2573 7.21013Z" fill="#003471"/>
       <path d="M13.369 419.608C12.0785 420.447 10.363 419.575 10.2811 418.038L9.56785 404.65C9.48594 403.113 11.0991 402.063 12.4715 402.761L24.4221 408.837C25.7945 409.535 25.8969 411.457 24.6064 412.296L13.369 419.608Z" fill="#A80CEE"/>
       <path d="M26.1916 26.5925C25.9665 26.2447 25.5022 26.1453 25.1545 26.3704C24.8067 26.5955 24.7073 27.0598 24.9324 27.4075L26.1916 26.5925ZM28.686 32.3089L29.3668 31.9941L29.3571 31.9732L29.3461 31.9528L28.686 32.3089ZM31.81 39.5483L31.1148 39.8295L31.118 39.8375L31.1214 39.8454L31.81 39.5483ZM35.4547 48.2355L36.1605 47.9817L36.1555 47.9679L36.15 47.9542L35.4547 48.2355ZM36.4961 51.1313L37.2244 50.9523L37.2151 50.9143L37.2018 50.8775L36.4961 51.1313ZM39.5787 60.4155L40.2962 60.1968L40.2918 60.1827L40.287 60.1687L39.5787 60.4155ZM40.7402 64.2257L41.4576 64.007L41.4576 64.007L40.7402 64.2257ZM41.9016 68.0359L42.6302 67.8582L42.6252 67.8375L42.619 67.8172L41.9016 68.0359ZM44.2244 77.5614L43.4958 77.7391L43.4958 77.7391L44.2244 77.5614ZM45.3858 82.3241L46.1208 82.1748L46.1179 82.1605L46.1145 82.1464L45.3858 82.3241ZM46.5472 88.0394L47.2822 87.8901L47.2822 87.8901L46.5472 88.0394ZM47.7087 93.7547L48.4501 93.6417L48.4473 93.6235L48.4436 93.6054L47.7087 93.7547ZM48.8701 101.375L49.6115 101.262L49.6115 101.262L48.8701 101.375ZM50.0315 108.996L50.7739 108.889L50.7729 108.883L50.0315 108.996ZM51.1929 117.092L51.9374 117.001L51.9364 116.994L51.9353 116.986L51.1929 117.092ZM52.3543 126.618L53.1011 126.548L53.1001 126.537L53.0988 126.527L52.3543 126.618ZM52.935 132.809L52.1883 132.879L52.1892 132.888L52.935 132.809ZM54.0965 143.764L54.8438 143.699L54.8423 143.685L54.0965 143.764ZM54.6772 150.431L55.4253 150.378L55.4243 150.366L54.6772 150.431ZM55.2579 158.528L56.0065 158.482L56.006 158.474L55.2579 158.528ZM55.8386 168.054L56.5877 168.017L56.5872 168.008L55.8386 168.054ZM56.4193 179.961L57.169 179.936L57.1684 179.924L56.4193 179.961ZM57 197.583H57.75V197.57L57.7496 197.558L57 197.583ZM57 229.969L57.7492 230.005L57.75 229.987V229.969H57ZM56.4193 242.353L55.6701 242.317L55.6698 242.324L56.4193 242.353ZM55.8386 257.593L56.587 257.641L56.5877 257.632L56.588 257.622L55.8386 257.593ZM54.6772 275.692L55.4248 275.753L55.4256 275.74L54.6772 275.692ZM53.5157 289.98L54.2619 290.056L54.2627 290.048L54.2633 290.041L53.5157 289.98ZM52.3543 301.411L53.0988 301.501L53.0997 301.494L53.1005 301.486L52.3543 301.411ZM51.1929 310.936L51.9357 311.041L51.9374 311.027L51.1929 310.936ZM49.4508 323.319L50.1923 323.432L50.1935 323.424L49.4508 323.319ZM48.8701 327.13L49.609 327.258L49.6103 327.25L49.6115 327.243L48.8701 327.13ZM47.7087 333.797L48.4436 333.947L48.4457 333.936L48.4475 333.926L47.7087 333.797ZM46.5472 339.513L47.2822 339.662L47.2822 339.662L46.5472 339.513ZM44.2244 350.943L44.9483 351.139L44.9546 351.116L44.9594 351.093L44.2244 350.943ZM43.063 355.23L43.785 355.433L43.7869 355.426L43.063 355.23ZM41.3209 361.421L42.0383 361.64L42.0406 361.632L42.0428 361.624L41.3209 361.421ZM39.5787 367.137L40.2904 367.373L40.2934 367.364L40.2962 367.355L39.5787 367.137ZM27.124 29.4131L27.7841 29.0571L27.7699 29.0307L27.7536 29.0056L27.124 29.4131ZM33.8927 44.3745L34.588 44.0932L34.5847 44.0853L34.5813 44.0774L33.8927 44.3745ZM30.248 35.6873L30.9433 35.406L30.9364 35.3891L30.9288 35.3725L30.248 35.6873ZM33.372 384.625L32.6913 384.311L32.681 384.333L32.6722 384.356L33.372 384.625ZM26.8763 397.488L26.2439 397.085L26.8763 397.488ZM37.8366 372.376L37.1249 372.139L37.1153 372.168L37.108 372.198L37.8366 372.376ZM34.1231 383.001L33.4424 382.686L34.1231 383.001ZM36.5199 51.2283L35.7916 51.4073L36.5199 51.2283ZM38.4173 57.0815L39.1256 56.8348L39.1193 56.8168L39.1121 56.7992L38.4173 57.0815ZM34.749 48.4893L35.7903 51.3851L37.2018 50.8775L36.1605 47.9817L34.749 48.4893ZM35.7677 51.3102L35.7916 51.4073L37.2482 51.0494L37.2244 50.9523L35.7677 51.3102ZM37.7091 57.3283L38.8705 60.6622L40.287 60.1687L39.1256 56.8348L37.7091 57.3283ZM38.8613 60.6341L40.0227 64.4443L41.4576 64.007L40.2962 60.1968L38.8613 60.6341ZM40.0227 64.4443L41.1842 68.2545L42.619 67.8172L41.4576 64.007L40.0227 64.4443ZM41.1729 68.2135L42.3343 72.9763L43.7916 72.6209L42.6302 67.8582L41.1729 68.2135ZM42.3343 72.9763L43.4958 77.7391L44.9531 77.3837L43.7916 72.6209L42.3343 72.9763ZM43.4958 77.7391L44.6572 82.5018L46.1145 82.1464L44.9531 77.3837L43.4958 77.7391ZM44.6508 82.4735L45.8123 88.1888L47.2822 87.8901L46.1208 82.1748L44.6508 82.4735ZM45.8123 88.1888L46.9737 93.9041L48.4436 93.6054L47.2822 87.8901L45.8123 88.1888ZM46.9672 93.8677L48.1286 101.488L49.6115 101.262L48.4501 93.6417L46.9672 93.8677ZM48.1286 101.488L49.2901 109.109L50.7729 108.883L49.6115 101.262L48.1286 101.488ZM49.2891 109.102L50.4505 117.199L51.9353 116.986L50.7739 108.889L49.2891 109.102ZM50.4484 117.183L51.6098 126.708L53.0988 126.527L51.9374 117.001L50.4484 117.183ZM51.6076 126.688L52.1883 132.879L53.6818 132.739L53.1011 126.548L51.6076 126.688ZM52.1892 132.888L53.3506 143.843L54.8423 143.685L53.6809 132.73L52.1892 132.888ZM53.3493 143.829L53.93 150.497L55.4243 150.366L54.8436 143.699L53.3493 143.829ZM53.9291 150.485L54.5098 158.582L56.006 158.474L55.4252 150.378L53.9291 150.485ZM54.5093 158.574L55.09 168.099L56.5872 168.008L56.0065 158.483L54.5093 158.574ZM55.0895 168.09L55.6702 179.997L57.1684 179.924L56.5877 168.017L55.0895 168.09ZM55.6697 179.985L56.2504 197.607L57.7496 197.558L57.1689 179.936L55.6697 179.985ZM56.25 197.583V204.332H57.75V197.583H56.25ZM56.25 204.332V211.871H57.75V204.332H56.25ZM56.25 211.871V219.45H57.75V211.871H56.25ZM56.25 219.45V224.254H57.75V219.45H56.25ZM56.25 224.254V229.969H57.75V224.254H56.25ZM56.2508 229.934L55.6701 242.317L57.1685 242.388L57.7492 230.005L56.2508 229.934ZM55.6698 242.324L55.0891 257.565L56.588 257.622L57.1687 242.381L55.6698 242.324ZM55.0901 257.545L53.9287 275.644L55.4256 275.74L56.587 257.641L55.0901 257.545ZM53.9296 275.631L52.7682 289.919L54.2633 290.041L55.4247 275.753L53.9296 275.631ZM52.7696 289.904L51.6082 301.335L53.1005 301.486L54.2619 290.056L52.7696 289.904ZM51.6098 301.32L50.4484 310.845L51.9374 311.027L53.0988 301.501L51.6098 301.32ZM50.4502 310.832L48.7081 323.215L50.1935 323.424L51.9356 311.041L50.4502 310.832ZM48.7093 323.206L48.1286 327.017L49.6115 327.243L50.1922 323.432L48.7093 323.206ZM48.1312 327.001L46.9698 333.669L48.4475 333.926L49.609 327.258L48.1312 327.001ZM46.9737 333.648L45.8123 339.363L47.2822 339.662L48.4436 333.947L46.9737 333.648ZM45.8123 339.363L44.6508 345.079L46.1208 345.377L47.2822 339.662L45.8123 339.363ZM44.6508 345.079L43.4894 350.794L44.9594 351.093L46.1208 345.377L44.6508 345.079ZM43.5005 350.747L42.3391 355.034L43.7869 355.426L44.9483 351.139L43.5005 350.747ZM42.341 355.027L40.5989 361.218L42.0428 361.624L43.785 355.433L42.341 355.027ZM40.6035 361.203L38.8613 366.918L40.2962 367.355L42.0383 361.64L40.6035 361.203ZM38.8671 366.9L37.1249 372.139L38.5483 372.612L40.2904 367.373L38.8671 366.9ZM33.4424 382.686L32.6913 384.311L34.0528 384.94L34.8039 383.316L33.4424 382.686ZM26.2439 397.085L23.3676 401.597L24.6324 402.403L27.5088 397.891L26.2439 397.085ZM24.9324 27.4075L26.4944 29.8207L27.7536 29.0056L26.1916 26.5925L24.9324 27.4075ZM26.4639 29.7692L28.0259 32.6649L29.3461 31.9528L27.7841 29.0571L26.4639 29.7692ZM31.1214 39.8454L33.2041 44.6717L34.5813 44.0774L32.4987 39.2511L31.1214 39.8454ZM33.1975 44.6558L34.7595 48.5168L36.15 47.9542L34.588 44.0932L33.1975 44.6558ZM28.0053 32.6236L29.5673 36.002L30.9288 35.3725L29.3668 31.9941L28.0053 32.6236ZM29.5528 35.9685L31.1148 39.8295L32.5053 39.267L30.9433 35.406L29.5528 35.9685ZM32.6722 384.356C30.9589 388.802 28.8055 393.067 26.2439 397.085L27.5088 397.891C30.1241 393.789 32.3227 389.435 34.0719 384.895L32.6722 384.356ZM37.108 372.198C36.2279 375.804 35.0003 379.317 33.4424 382.686L34.8039 383.316C36.4025 379.858 37.6621 376.254 38.5652 372.553L37.108 372.198ZM35.7916 51.4073C36.2902 53.4369 36.9356 55.4277 37.7225 57.3639L39.1121 56.7992C38.3525 54.9302 37.7296 53.0085 37.2482 51.0494L35.7916 51.4073Z" fill="url(#paint0_linear_391_21)"/>
       <path d="M23.1232 28.5982C22.9013 28.2484 22.4379 28.1448 22.0881 28.3667C21.7383 28.5886 21.6347 29.052 21.8566 29.4018L23.1232 28.5982ZM25.5192 34.2523L26.2024 33.9427L26.1929 33.9219L26.1823 33.9017L25.5192 34.2523ZM28.5486 41.4144L27.8514 41.6909L27.8545 41.6988L27.8578 41.7066L28.5486 41.4144ZM32.0828 50.009L32.7902 49.7597L32.7854 49.746L32.78 49.7326L32.0828 50.009ZM33.0926 52.8739L33.8218 52.6983L33.8127 52.6609L33.8 52.6246L33.0926 52.8739ZM36.0819 62.059L36.8005 61.8443L36.7963 61.8304L36.7916 61.8167L36.0819 62.059ZM37.2081 65.8286L37.9267 65.6139L37.9267 65.6139L37.2081 65.8286ZM38.3343 69.5982L39.0638 69.4238L39.0589 69.4035L39.0529 69.3835L38.3343 69.5982ZM40.5868 79.0221L39.8573 79.1964L39.8573 79.1964L40.5868 79.0221ZM41.713 83.734L42.4485 83.5875L42.4458 83.5735L42.4424 83.5596L41.713 83.734ZM42.8392 89.3883L43.5748 89.2418L43.5748 89.2418L42.8392 89.3883ZM43.9654 95.0427L44.7072 94.9319L44.7045 94.9139L44.701 94.8962L43.9654 95.0427ZM45.0917 102.582L45.8334 102.471L45.8334 102.471L45.0917 102.582ZM46.2179 110.121L46.9606 110.016L46.9597 110.01L46.2179 110.121ZM47.3441 118.131L48.0888 118.042L48.0879 118.035L48.0868 118.027L47.3441 118.131ZM48.4703 127.555L49.2172 127.486L49.2162 127.476L49.215 127.466L48.4703 127.555ZM49.0334 133.681L48.2865 133.749L48.2875 133.758L49.0334 133.681ZM50.1597 144.518L50.9071 144.454L50.9056 144.441L50.1597 144.518ZM50.7228 151.115L51.471 151.062L51.4701 151.051L50.7228 151.115ZM51.2859 159.125L52.0346 159.08L52.034 159.073L51.2859 159.125ZM51.849 168.549L52.5982 168.513L52.5977 168.504L51.849 168.549ZM52.4121 180.329L53.1618 180.305L53.1613 180.293L52.4121 180.329ZM52.9752 197.763H53.7252V197.751L53.7248 197.739L52.9752 197.763ZM52.9752 229.804L53.7244 229.839L53.7252 229.822V229.804H52.9752ZM52.4121 242.055L51.6629 242.021L51.6626 242.027L52.4121 242.055ZM51.849 257.134L52.5975 257.181L52.5981 257.171L52.5985 257.162L51.849 257.134ZM50.7228 275.039L51.4705 275.099L51.4713 275.086L50.7228 275.039ZM49.5966 289.175L50.3429 289.249L50.3436 289.242L50.3442 289.235L49.5966 289.175ZM48.4703 300.484L49.215 300.573L49.2159 300.565L49.2166 300.558L48.4703 300.484ZM47.3441 309.908L48.0872 310.01L48.0888 309.997L47.3441 309.908ZM45.6548 322.159L46.3966 322.269L46.3977 322.261L45.6548 322.159ZM45.0917 325.928L45.831 326.054L45.8323 326.047L45.8334 326.039L45.0917 325.928ZM43.9654 332.525L44.701 332.671L44.703 332.661L44.7047 332.651L43.9654 332.525ZM42.8392 338.179L43.5748 338.326L43.5748 338.326L42.8392 338.179ZM40.5868 349.488L41.3116 349.68L41.3177 349.658L41.3223 349.634L40.5868 349.488ZM39.4605 353.729L40.1836 353.928L40.1854 353.921L39.4605 353.729ZM37.7712 359.854L38.4898 360.069L38.4921 360.061L38.4942 360.054L37.7712 359.854ZM36.0819 365.509L36.795 365.741L36.7978 365.732L36.8005 365.723L36.0819 365.509ZM24.0046 31.3874L24.6676 31.0368L24.6537 31.0106L24.6379 30.9856L24.0046 31.3874ZM30.5682 46.1892L31.2653 45.9127L31.2622 45.9048L31.2589 45.897L30.5682 46.1892ZM27.0339 37.5946L27.7311 37.3181L27.7245 37.3014L27.717 37.285L27.0339 37.5946ZM30.0633 382.811L29.3801 382.501L29.3702 382.523L29.3616 382.546L30.0633 382.811ZM23.7524 395.555L24.3885 395.953L23.7524 395.555ZM34.3925 370.692L33.6795 370.459L33.6701 370.488L33.6631 370.517L34.3925 370.692ZM30.7861 381.216L30.103 380.906L30.7861 381.216ZM34.9557 58.7607L35.6654 58.5183L35.6594 58.5006L35.6524 58.4831L34.9557 58.7607ZM31.3755 50.2583L32.3853 53.1232L33.8 52.6246L32.7902 49.7597L31.3755 50.2583ZM32.3635 53.0495L32.3878 53.1504L33.8461 52.7993L33.8218 52.6983L32.3635 53.0495ZM34.2459 59.003L35.3721 62.3014L36.7916 61.8167L35.6654 58.5183L34.2459 59.003ZM35.3633 62.2737L36.4895 66.0433L37.9267 65.6139L36.8005 61.8443L35.3633 62.2737ZM36.4895 66.0433L37.6157 69.8128L39.0529 69.3835L37.9267 65.6139L36.4895 66.0433ZM37.6049 69.7725L38.7311 74.4845L40.19 74.1358L39.0638 69.4238L37.6049 69.7725ZM38.7311 74.4845L39.8573 79.1964L41.3162 78.8477L40.19 74.1358L38.7311 74.4845ZM39.8573 79.1964L40.9835 83.9083L42.4424 83.5596L41.3162 78.8477L39.8573 79.1964ZM40.9774 83.8805L42.1037 89.5348L43.5748 89.2418L42.4485 83.5875L40.9774 83.8805ZM42.1037 89.5348L43.2299 95.1892L44.701 94.8962L43.5748 89.2418L42.1037 89.5348ZM43.2237 95.1535L44.3499 102.693L45.8334 102.471L44.7072 94.9319L43.2237 95.1535ZM44.3499 102.693L45.4761 110.232L46.9597 110.01L45.8334 102.471L44.3499 102.693ZM45.4752 110.225L46.6014 118.236L48.0868 118.027L46.9606 110.016L45.4752 110.225ZM46.5994 118.22L47.7256 127.644L49.215 127.466L48.0888 118.042L46.5994 118.22ZM47.7235 127.624L48.2866 133.749L49.7803 133.612L49.2172 127.486L47.7235 127.624ZM48.2875 133.758L49.4137 144.596L50.9056 144.441L49.7794 133.603L48.2875 133.758ZM49.4124 144.582L49.9755 151.179L51.4701 151.051L50.9069 144.454L49.4124 144.582ZM49.9746 151.167L50.5377 159.178L52.034 159.073L51.4709 151.062L49.9746 151.167ZM50.5372 159.17L51.1003 168.594L52.5977 168.504L52.0345 159.08L50.5372 159.17ZM51.0999 168.585L51.663 180.365L53.1613 180.293L52.5981 168.513L51.0999 168.585ZM51.6625 180.353L52.2256 197.787L53.7248 197.739L53.1617 180.305L51.6625 180.353ZM52.2252 197.763V204.44H53.7252V197.763H52.2252ZM52.2252 204.44V211.899H53.7252V204.44H52.2252ZM52.2252 211.899V219.398H53.7252V211.899H52.2252ZM52.2252 219.398V224.15H53.7252V219.398H52.2252ZM52.2252 224.15V229.804H53.7252V224.15H52.2252ZM52.226 229.77L51.6629 242.021L53.1613 242.09L53.7244 229.839L52.226 229.77ZM51.6626 242.027L51.0995 257.106L52.5985 257.162L53.1616 242.083L51.6626 242.027ZM51.1005 257.087L49.9743 274.992L51.4713 275.086L52.5975 257.181L51.1005 257.087ZM49.9751 274.98L48.8489 289.115L50.3442 289.235L51.4704 275.099L49.9751 274.98ZM48.8502 289.101L47.724 300.409L49.2166 300.558L50.3429 289.249L48.8502 289.101ZM47.7256 300.395L46.5994 309.819L48.0888 309.997L49.215 300.573L47.7256 300.395ZM46.6011 309.805L44.9118 322.056L46.3977 322.261L48.0871 310.01L46.6011 309.805ZM44.913 322.048L44.3499 325.817L45.8334 326.039L46.3965 322.269L44.913 322.048ZM44.3524 325.802L43.2261 332.399L44.7047 332.651L45.831 326.054L44.3524 325.802ZM43.2299 332.378L42.1037 338.033L43.5748 338.326L44.701 332.671L43.2299 332.378ZM42.1037 338.033L40.9774 343.687L42.4485 343.98L43.5748 338.326L42.1037 338.033ZM40.9774 343.687L39.8512 349.341L41.3223 349.634L42.4485 343.98L40.9774 343.687ZM39.8619 349.295L38.7357 353.536L40.1854 353.921L41.3116 349.68L39.8619 349.295ZM38.7375 353.529L37.0482 359.655L38.4942 360.054L40.1836 353.928L38.7375 353.529ZM37.0526 359.639L35.3633 365.294L36.8005 365.723L38.4898 360.069L37.0526 359.639ZM35.3688 365.276L33.6795 370.459L35.1056 370.924L36.795 365.741L35.3688 365.276ZM30.103 380.906L29.3801 382.501L30.7464 383.12L31.4693 381.525L30.103 380.906ZM23.1164 395.158L20.3392 399.603L21.6113 400.397L24.3885 395.953L23.1164 395.158ZM21.8566 29.4018L23.3713 31.7892L24.6379 30.9856L23.1232 28.5982L21.8566 29.4018ZM23.3415 31.7379L24.8562 34.6028L26.1823 33.9017L24.6676 31.0368L23.3415 31.7379ZM27.8578 41.7066L29.8774 46.4814L31.2589 45.897L29.2393 41.1223L27.8578 41.7066ZM29.871 46.4656L31.3856 50.2855L32.78 49.7326L31.2653 45.9127L29.871 46.4656ZM24.8361 34.5618L26.3508 37.9042L27.717 37.285L26.2024 33.9427L24.8361 34.5618ZM26.3367 37.8711L27.8514 41.6909L29.2458 41.138L27.7311 37.3181L26.3367 37.8711ZM29.3616 382.546C27.7002 386.945 25.6083 391.17 23.1164 395.158L24.3885 395.953C26.9327 391.881 29.0686 387.568 30.7649 383.076L29.3616 382.546ZM33.6631 370.517C32.8096 374.086 31.6175 377.564 30.103 380.906L31.4693 381.525C33.0231 378.096 34.2462 374.527 35.122 370.866L33.6631 370.517ZM32.3878 53.1504C32.8705 55.1551 33.4958 57.1227 34.2589 59.0382L35.6524 58.4831C34.9158 56.6339 34.3121 54.7345 33.8461 52.7993L32.3878 53.1504Z" fill="url(#paint1_linear_391_21)"/>
       <defs>
         <linearGradient id="paint0_linear_391_21" x1="40.5" y1="27" x2="40.5" y2="402" gradientUnits="userSpaceOnUse">
           <stop stop-color="#003471"/>
           <stop offset="0.53125" stop-color="#5644F7"/>
           <stop offset="1" stop-color="#A80CEE"/>
         </linearGradient>
         <linearGradient id="paint1_linear_391_21" x1="36.9752" y1="29" x2="36.9752" y2="400" gradientUnits="userSpaceOnUse">
           <stop stop-color="#003471"/>
           <stop offset="0.53125" stop-color="#5644F7"/>
           <stop offset="1" stop-color="#A80CEE"/>
         </linearGradient>
       </defs>
     </svg>

     <span ref="refScrollDot"></span>
   </div>
 </div>
</template>

<script>
export default {
  name: "MessageContent",

  data: function () {
    return {

    }
  },

  props: {
    message: {
      type: String,
      default: ""
    }
  },

  watch: {
    message: function () {
      if (!!this.$refs.refMessageContent) {
        setTimeout(() => {
          this.$refs.refMessageContent.scrollTo({
            top: 0,
            left: 0
          });
          this.initScroll();
        }, 100);
      }
    }
  },

  mounted: function () {
    this.initScroll();
  },

  methods: {
    initScroll: function () {
      const scrollHeight = this.$refs.refMessageContent.scrollHeight;
      if (scrollHeight > 350) {
        this.$refs.refScroll.style = '';
        this.$refs.refScrollDot.style = '';
        this.$refs.refMessageContent.addEventListener("scroll", this.callEventScrollMessage);
      } else {
        this.$refs.refScroll.style.display = 'none'
      }
    },

    callEventScrollMessage: function (event) {
      const currentScrollPosition = event.currentTarget.scrollTop || 0;
      const clientHeight = event.currentTarget.clientHeight || 0;
      const scrollHeight = event.currentTarget.scrollHeight || 0;

      let percentPositionScroll = (currentScrollPosition / (scrollHeight - clientHeight)) * 100;
      let leftPosition = (32 / 100) * ((100 - percentPositionScroll) / 100) * (percentPositionScroll * 3.5);

      if (percentPositionScroll > 98) {
        percentPositionScroll = 98
      }

      this.$refs.refScrollDot.style.top = `${percentPositionScroll}%`;
      this.$refs.refScrollDot.style.left = `${leftPosition}px`;
    }
  }
}
</script>

<style lang="scss">
.iaop-message-content {
  position: relative;

  .cms-block-stub {
    height: 350px;
    overflow: auto;
    padding-right: 30px;
    box-sizing: border-box;
  }
}
.iaop-message-content__scroll {
  position: absolute;
  top: 0; bottom: 0; right: -20px;
  height: 100%;

  svg {
    height: calc(100% + 54px);
    margin-top: -20px;
  }
  span {
    position: absolute;
    top: 0; left: 0;
    transform: translate(20px, 4px);
    width: 16px;
    height: 16px;
    background: linear-gradient(180deg, #003471 0%, #5644F7 48.75%, #A80CEE 100%);
    border-radius: 100%;
  }
}
</style>
